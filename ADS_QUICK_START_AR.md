# ๐ ุจุฏุก ุณุฑูุน - ูุธุงู ุงูุฅุนูุงูุงุช

## โ ูุง ุชู ุฅูุดุงุคู

### 1. ุงููููุงุช ุงูุฌุฏูุฏุฉ:
```
โ app/mini-app/ads/page.tsx              - ุตูุญุฉ ูุดุงูุฏุฉ ุงูุฅุนูุงูุงุช
โ app/api/ads/watch/route.ts             - API ุชุณุฌูู ุงููุดุงูุฏุฉ
โ app/api/ads/stats/route.ts             - API ุงูุฅุญุตุงุฆูุงุช
โ ADMOB_COMPLETE_GUIDE_AR.md            - ุงูุฏููู ุงูุดุงูู
โ ADS_QUICK_START_AR.md                 - ูุฐุง ุงูููู (ุจุฏุก ุณุฑูุน)
```

### 2. ุงููููุงุช ุงูููุฌูุฏุฉ ูุณุจูุงู:
```
โ lib/ad-manager.ts                      - ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช
โ components/rewarded-ad-button.tsx      - ุฒุฑ ุงูุฅุนูุงู (ุฌุงูุฒ)
โ app/admin/ads/page.tsx                 - ููุญุฉ ุงูุฃุฏูู
```

---

## ๐ฏ ุฎุทูุงุช ุงูุชูุนูู (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ AdMob

```
1. ุงุฐูุจ ุฅูู: https://admob.google.com
2. ุณุฌู ุจุญุณุงุจ Google
3. ุฃููู ูุนูููุงุช ุงูุญุณุงุจ (ุงูุงุณูุ ุงูุจูุฏุ ุงูุนููุฉ)
4. ูุงูู ุนูู ุงูุดุฑูุท
```

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุชุทุจูู

```
ูู ููุญุฉ AdMob:
1. "ุงูุชุทุจููุงุช" โ "ุฅุถุงูุฉ ุชุทุจูู"
2. ุงุณู ุงูุชุทุจูู: "AlWaliSoft Rewards"
3. ุงููุธุงู: "ููุจ" ุฃู "ุฃูุฏุฑููุฏ"
4. ุงุญูุธ

โ ุณุชุญุตู ุนูู App ID:
ca-app-pub-XXXXXXXXXXXXXXXX~YYYYYYYYYY
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก 3 ูุญุฏุงุช ุฅุนูุงููุฉ

#### 1. ููุฏูู ุจููุงูุฃุฉ:
```
"ูุญุฏุงุช ุงูุฅุนูุงูุงุช" โ "ุฅูุดุงุก" โ "ููุฏูู ุจููุงูุฃุฉ"
ุงูุงุณู: "Video Reward 500"
ุงูููุงูุฃุฉ: 500 ุนููุฉ

โ ุณุชุญุตู ุนูู:
ca-app-pub-XXXXXXXXXXXXXXXX/AAAAAAAAAA
```

#### 2. ุฅุนูุงู ุจููู:
```
"ูุญุฏุงุช ุงูุฅุนูุงูุงุช" โ "ุฅูุดุงุก" โ "ุจููู"
ุงูุงุณู: "Interstitial"

โ ุณุชุญุตู ุนูู:
ca-app-pub-XXXXXXXXXXXXXXXX/BBBBBBBBBB
```

#### 3. ุจุงูุฑ:
```
"ูุญุฏุงุช ุงูุฅุนูุงูุงุช" โ "ุฅูุดุงุก" โ "ุจุงูุฑ"
ุงูุงุณู: "Bottom Banner"

โ ุณุชุญุตู ุนูู:
ca-app-pub-XXXXXXXXXXXXXXXX/CCCCCCCCCC
```

### ุงูุฎุทูุฉ 4: ุฅุถุงูุฉ ุงููุนุฑูุงุช ููุชุทุจูู

ุฃูุดุฆ ููู `.env.local` (ููุชุทููุฑ):

```bash
# Google AdMob - Test IDs (ููุชุทููุฑ ููุท!)
NEXT_PUBLIC_ADMOB_APP_ID=ca-app-pub-3940256099942544~3347511713
NEXT_PUBLIC_ADMOB_REWARDED_VIDEO_ID=ca-app-pub-3940256099942544/5224354917
NEXT_PUBLIC_ADMOB_INTERSTITIAL_ID=ca-app-pub-3940256099942544/1033173712
NEXT_PUBLIC_ADMOB_BANNER_ID=ca-app-pub-3940256099942544/6300978111

# ุฅุนุฏุงุฏุงุช ุงูุฅุนูุงูุงุช
NEXT_PUBLIC_AD_DAILY_LIMIT=10
NEXT_PUBLIC_AD_REWARD_AMOUNT=500
```

โ๏ธ **ูุงู:** ูุฐู ูุนุฑูุงุช ุงุฎุชุจุงุฑ ูู Google - **ูุง ุชุณุชุฎุฏููุง ูู ุงูุฅูุชุงุฌ!**

### ุงูุฎุทูุฉ 5: ุงุฎุชุจุฑ ุงูุชุทุจูู

```bash
# ุดุบูู ุงูุชุทุจูู
pnpm dev

# ุงูุชุญ ุงููุชุตูุญ
http://localhost:3000/mini-app/ads

# ุฌุฑุจ ูุดุงูุฏุฉ ุฅุนูุงู
1. ุงููุฑ "ุดุงูุฏ ุงูุฅุนูุงู ุงูุขู"
2. ุงูุชุธุฑ 3 ุซูุงู (ูุญุงูุงุฉ)
3. ูุฌุจ ุฃู ุชุญุตู ุนูู 500 ุนููุฉ โ
```

---

## ๐ ุงููุดุฑ ุนูู ุงูุฅูุชุงุฌ

### ูุจู ุงููุดุฑ:

#### 1. ุงุณุชุจุฏู Test IDs ุจุงููุนุฑูุงุช ุงูุญููููุฉ

ูู `.env.production`:

```bash
# ูุนุฑูุงุชู ุงูุญููููุฉ ูู AdMob
NEXT_PUBLIC_ADMOB_APP_ID=ca-app-pub-YOUR_REAL_APP_ID~YOUR_ID
NEXT_PUBLIC_ADMOB_REWARDED_VIDEO_ID=ca-app-pub-YOUR_REAL_APP_ID/YOUR_REWARDED_ID
NEXT_PUBLIC_ADMOB_INTERSTITIAL_ID=ca-app-pub-YOUR_REAL_APP_ID/YOUR_INTERSTITIAL_ID
NEXT_PUBLIC_ADMOB_BANNER_ID=ca-app-pub-YOUR_REAL_APP_ID/YOUR_BANNER_ID
```

#### 2. ุฃุถู ุงููุชุบูุฑุงุช ูู Vercel

```
1. Vercel Dashboard โ Settings โ Environment Variables
2. ุฃุถู ูู ูุชุบูุฑ:
   - NEXT_PUBLIC_ADMOB_APP_ID
   - NEXT_PUBLIC_ADMOB_REWARDED_VIDEO_ID
   - NEXT_PUBLIC_ADMOB_INTERSTITIAL_ID
   - NEXT_PUBLIC_ADMOB_BANNER_ID
3. ุงุญูุธ ูุฃุนุฏ ุงููุดุฑ
```

#### 3. ุชุญูู ูู ุงูุณูุงุณุงุช

```
โ ูุง ูุญุชูู ูุญุธูุฑ
โ ูุง ุชุถููู ูููุณุชุฎุฏููู
โ ูุง ููุฑุงุช ุฒุงุฆูุฉ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฌูุฏุฉ
```

---

## ๐ ููู ูุนูู ุงููุธุงู

### 1. ุงููุณุชุฎุฏู ููุชุญ ุตูุญุฉ ุงูุฅุนูุงูุงุช

```typescript
// app/mini-app/ads/page.tsx
- ูุนุฑุถ ุงูุฅุญุตุงุฆูุงุช (ุนุฏุฏ ุงูุฅุนูุงูุงุช ุงููููุ ุงููุฌููุนุ ุงูุนููุงุช)
- ูุธูุฑ ุฒุฑ "ุดุงูุฏ ุงูุฅุนูุงู ุงูุขู"
- ูุธูุฑ ุงูุชูุฏู ุงููููู
```

### 2. ุงููุณุชุฎุฏู ูููุฑ "ุดุงูุฏ ุงูุฅุนูุงู"

```typescript
const watchAd = async () => {
  // 1. ูู ุงูุฅูุชุงุฌ: ุนุฑุถ ุฅุนูุงู AdMob ุญูููู
  // 2. ูู ุงูุชุทููุฑ: ูุญุงูุงุฉ 3 ุซูุงู
  
  await showAdMobAd(); // Google AdMob SDK
  
  // 3. ุฅุฑุณุงู ุทูุจ ููู API
  await fetch('/api/ads/watch', {
    method: 'POST',
    body: JSON.stringify({ userId, adType: 'REWARDED_VIDEO' })
  });
}
```

### 3. ุงูู API ูุนุงูุฌ ุงููุดุงูุฏุฉ

```typescript
// app/api/ads/watch/route.ts
1. โ ุงูุชุญูู ูู ุงููุณุชุฎุฏู
2. โ ุงูุชุญูู ูู ุงูุญุฏ ุงููููู (10 ุฅุนูุงูุงุช)
3. โ ุญุณุงุจ ุงูููุงูุฃุฉ (500 ุนููุฉ)
4. โ ุชุณุฌูู ุงููุดุงูุฏุฉ ูู AdWatch
5. โ ุฅุถุงูุฉ 500 ุนููุฉ ูููุญูุธุฉ
6. โ ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช
7. โ ุฅุฑุณุงู ุฅุดุนุงุฑ
8. โ ุฅุฑุฌุงุน ุงููุชูุฌุฉ
```

### 4. ุงููุณุชุฎุฏู ูุญุตู ุนูู ุงูููุงูุฃุฉ

```typescript
โ ุชู ุจูุฌุงุญ!
๐ช ุญุตูุช ุนูู 500 ุนููุฉ

ุฑุตูุฏู ุงูุฌุฏูุฏ: 5,500 ุนููุฉ
```

---

## ๐จ ุงููุงุฌูุฉ

### ุตูุญุฉ ุงูุฅุนูุงูุงุช:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ุงูุฅุนูุงูุงุช                    โ
โ  ุดุงูุฏ ูุงุญุตู ุนูู ุนููุงุช           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ๐ช                       โ
โ   ุงุฑุจุญ 500 ุนููุฉ                โ
โ   ููู ุฅุนูุงู ููุฏูู ุชุดุงูุฏู!       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโฌโโโโโโโโฌโโโโโโโโ
โ   3   โ  50   โ 25000 โ
โ ุงูููู โ ุงููุฌููุนโ ุนููุฉ  โ
โโโโโโโโโดโโโโโโโโดโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         โถ๏ธ                       โ
โ   ุฌุงูุฒ ูููุดุงูุฏุฉุ               โ
โ   ูุชุจูู ุงูููู: 7 ุฅุนูุงู         โ
โ                                 โ
โ [    ุดุงูุฏ ุงูุฅุนูุงู ุงูุขู    ]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชูุฏู ุงูููู                      โ
โ โโโโโโโโโโ 3 / 10              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุฅุถุงูุฉ ุฑุงุจุท ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ

ูุฅุถุงูุฉ ุงูุฅุนูุงูุงุช ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉุ ุนุฏูู `app/mini-app/page.tsx`:

```typescript
const menuItems = [
  // ... ุจุงูู ุงูุนูุงุตุฑ
  {
    icon: <Play className="w-6 h-6" />,
    label: 'ุงูุฅุนูุงูุงุช',
    href: '/mini-app/ads',
    color: 'from-yellow-500 to-orange-500',
    description: 'ุดุงูุฏ ูุงุฑุจุญ'
  },
  // ...
];
```

---

## ๐ฑ ุฅุถุงูุฉ ุฒุฑ ูู ุงูุจูุช

ูู `bot/handlers/start.ts` ุฃู ุฃู handler:

```typescript
bot.command('ads', async (ctx) => {
  const webAppUrl = process.env.NEXT_PUBLIC_WEB_APP_URL;
  
  await ctx.reply(
    '๐บ ุดุงูุฏ ุฅุนูุงูุงุช ูุงุญุตู ุนูู ุนููุงุช!\n\n' +
    '๐ช 500 ุนููุฉ ููู ุฅุนูุงู\n' +
    'โฐ ุญุฏ ุฃูุตู 10 ุฅุนูุงูุงุช ููููุงู',
    {
      reply_markup: {
        inline_keyboard: [[
          {
            text: '๐ฌ ุดุงูุฏ ุงูุขู',
            web_app: { url: `${webAppUrl}/mini-app/ads` }
          }
        ]]
      }
    }
  );
});
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชุชุจุน

### ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

#### ุฌุฏูู AdWatch:
```sql
SELECT * FROM ad_watch 
WHERE user_id = 'xxx'
ORDER BY watched_at DESC;

-- ุงููุชูุฌุฉ:
user_id | ad_type         | reward | watched_at
--------|-----------------|--------|------------------
abc-123 | REWARDED_VIDEO  | 500    | 2025-11-08 21:30
abc-123 | REWARDED_VIDEO  | 500    | 2025-11-08 21:15
abc-123 | REWARDED_VIDEO  | 500    | 2025-11-08 21:00
```

#### ุฌุฏูู AdRevenue (ููุฃุฏูู):
```sql
SELECT * FROM ad_revenue 
WHERE date = CURRENT_DATE;

-- ุงููุชูุฌุฉ:
date       | ad_type         | impressions | clicks | revenue | eCPM
-----------|-----------------|-------------|--------|---------|------
2025-11-08 | REWARDED_VIDEO  | 1500        | 1200   | 45.00   | 3.75
```

### ูู ููุญุฉ AdMob:

```
ุงูุฃุฑุจุงุญ ุงูููููุฉ: $45.00
ูุฑุงุช ุงูุธููุฑ: 1,500
ูุนุฏู ุงูุฅููุงู: 80%
eCPM: $3.75
```

---

## ๐ฏ ุงูุฃุฑุจุงุญ ุงููุชููุนุฉ

### ูุซุงู:

```
100 ูุณุชุฎุฏู ูุดุท ููููุงู
ูู ูุณุชุฎุฏู ูุดุงูุฏ 5 ุฅุนูุงูุงุช
= 500 ูุดุงูุฏุฉ ููููุงู

eCPM ูุชูุณุท: $3.00
ุงูุฃุฑุจุงุญ ุงูููููุฉ: (500 ร $3.00) / 1000 = $1.50
ุงูุฃุฑุจุงุญ ุงูุดูุฑูุฉ: $1.50 ร 30 = $45.00
```

### ุฒูุงุฏุฉ ุงูุฃุฑุจุงุญ:

```
1. โ ุฒุฏ ุนุฏุฏ ุงููุณุชุฎุฏููู (ุชุณูููุ ุฅุนูุงูุงุชุ SEO)
2. โ ุดุฌูุน ุงููุดุงูุฏุฉ (ููุงูุขุช ุฃูุจุฑุ ุชุญุฏูุงุช ููููุฉ)
3. โ ุญุณูู ุงูุชุฌุฑุจุฉ (ูุงุฌูุฉ ุฌูููุฉุ ุณุฑุนุฉ ุชุญููู)
4. โ ุถุน ุฅุนูุงูุงุช ูู ููุงุท ุงุณุชุฑุงุชูุฌูุฉ
```

---

## โ ูุงุฆูุฉ ุงููุฑุงุฌุนุฉ

### ูุจู ุงูุฅุทูุงู:

```
โ ุญุณุงุจ AdMob ูููุดุฃ
โ ุชุทุจูู ููุถุงู ูู AdMob
โ 3 ูุญุฏุงุช ุฅุนูุงููุฉ ูููุดุฃุฉ
โ ุงููุนุฑูุงุช ููุถุงูุฉ ูู .env.production
โ ุงููุนุฑูุงุช ููุถุงูุฉ ูู Vercel
โ ุงูุงุฎุชุจุงุฑ ูุน Test IDs ูุฌุญ
โ ุงูุงุฎุชุจุงุฑ ูุน ุงููุนุฑูุงุช ุงูุญููููุฉ ูุฌุญ
โ ูุฑุงุฌุนุฉ ุณูุงุณุงุช AdMob
โ ุฑุงุจุท ุงูุฅุนูุงูุงุช ูู ุงููุงุฆูุฉ
โ ุฒุฑ ุงูุฅุนูุงูุงุช ูู ุงูุจูุช
```

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: "ูุง ุชูุฌุฏ ุฅุนูุงูุงุช ูุชุงุญุฉ"

```
โ ุชุฃูุฏ ูู ุงููุนุฑูุงุช ุตุญูุญุฉ
โ ุชุฃูุฏ ูู ุงูุฅุนูุงูุงุช ููุนููุฉ ูู AdMob
โ ุงูุชุธุฑ 24 ุณุงุนุฉ (ูููุนุฑูุงุช ุงูุฌุฏูุฏุฉ)
โ ุงุณุชุฎุฏู Test IDs ููุงุฎุชุจุงุฑ
```

### ุงููุดููุฉ: "ูุตูุช ููุญุฏ ุงูุฃูุตู"

```
โ ุงูุญุต: NEXT_PUBLIC_AD_DAILY_LIMIT
โ ุงูุญุต ุฌุฏูู ad_watch ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุชุญูู ูู ุงูุชุงุฑูุฎ ูุงูููุช
```

### ุงููุดููุฉ: "ูุง ุชูุถุงู ุงูุนููุงุช"

```
โ ุงูุญุต ุฌุฏูู wallet
โ ุงูุญุต ุณุฌูุงุช ุงูู API (Console)
โ ุชุญูู ูู userId ุตุญูุญ
```

---

## ๐ ุงููุฒูุฏ ูู ุงูุชูุงุตูู

ููุญุตูู ุนูู ุฏููู ุดุงูู ูููุตูุ ุฑุงุฌุน:
๐ **ADMOB_COMPLETE_GUIDE_AR.md**

---

## ๐ ุชูุงูููุง!

ูุธุงู ุงูุฅุนูุงูุงุช ุงูุขู **ุฌุงูุฒ 100%** ููุนูู!

**ุงูุฎุทูุงุช ุงูุชุงููุฉ:**
1. โ ุงุฎุชุจุฑ ูุน Test IDs
2. โ ุงุณุชุจุฏู ุจุงููุนุฑูุงุช ุงูุญููููุฉ
3. โ ุงูุดุฑ ุนูู ุงูุฅูุชุงุฌ
4. โ ุฑุงูุจ ุงูุฃุฑุจุงุญ ูู AdMob

**ุญุธุงู ููููุงู! ๐๐ฐ**
