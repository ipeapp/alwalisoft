# ๐ ุฏููู ุชุดุบูู ุงูุจูุช - ุฎุทูุฉ ุจุฎุทูุฉ

## ๐ ุขุฎุฑ ุชุญุฏูุซ: 8 ููููุจุฑ 2025

---

## โ๏ธ **ููู ุฌุฏุงู: ุฎุทูุงุช ุฅูุฒุงููุฉ ูุจู ุงูุชุดุบูู**

---

## ๐ ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู Bot Token

### ๐ค ูู @BotFather:

1. **ุงูุชุญ Telegram**
2. **ุงุจุญุซ ุนู**: `@BotFather`
3. **ุฃุฑุณู ุฃุญุฏ ุงูุฃูุงูุฑ**:
   - `/newbot` - ูุฅูุดุงุก ุจูุช ุฌุฏูุฏ
   - `/mybots` - ููุจูุช ุงูููุฌูุฏ
4. **ุงูุณุฎ ุงูู Token** - ูุฌุจ ุฃู ูููู ูุซู:
   ```
   123456789:ABCdefGHIjklMNOpqrsTUVwxyz-123456789
   ```

### ๐ ูุซุงู ุนูู Token ุตุญูุญ:
```
1234567890:AAE_1234567890abcdefghijklmnopqrstuvwxyz
```

โ๏ธ **ูุง ุชุดุงุฑู ุงูู Token ูุน ุฃู ุดุฎุต!**

---

## ๐ง ุงูุฎุทูุฉ 2: ุชูููู ููู .env

### ุงูููู ุงูุญุงูู: `.env`

ุชู ุฅูุดุงุก ููู `.env` ุจุงููุนูุ ููู ูุฌุจ ุชุนุฏูู ุงูููู ุงูุชุงููุฉ:

```bash
nano .env
# ุฃู ุงุณุชุฎุฏู ุฃู ูุญุฑุฑ ูุตูุต
```

### ุงูููู ุงููุทููุจุฉ:

```env
# ===================================
# ๐ด ูุฌุจ ุชุนุฏูู ูุฐู ุงููููุฉ!
# ===================================
TELEGRAM_BOT_TOKEN="ุถุน_ุงูุชููู_ููุง"

# ูุซุงู ุตุญูุญ:
# TELEGRAM_BOT_TOKEN="1234567890:AAE_abc..."

# ===================================
# ๐ก ุงุฎุชูุงุฑู - ููู ููุตู ุจู
# ===================================
TELEGRAM_BOT_USERNAME="ุงุณู_ุงูุจูุช_ุจุฏูู_@"

# ูุซุงู:
# TELEGRAM_BOT_USERNAME="MyRewardsBot"

# ===================================
# โ ูุฐู ุงูููู ููููุฉ ุจุงููุนู
# ===================================
DATABASE_URL="postgresql://..."  # โ ุฌุงูุฒ
JWT_SECRET="ZxC9kL2mN..."       # โ ุฌุงูุฒ
```

---

## ๐พ ุงูุฎุทูุฉ 3: ุชูููุฏ Prisma Client

```bash
cd /workspace
pnpm prisma:generate
```

**ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ:**
```
โ Generated Prisma Client to ./node_modules/@prisma/client
```

---

## ๐ ุงูุฎุทูุฉ 4: ุชุดุบูู ุงูุจูุช

### ุงูุทุฑููุฉ ุงูุฃููู: ููุชุทููุฑ (ููุตู ุจูุง ููุงุฎุชุจุงุฑ)

```bash
cd /workspace
pnpm dev:bot
```

**ุงููุฎุฑุฌุงุช ุงููุชููุนุฉ:**
```
[INFO] Starting Telegram Rewards Bot...
[INFO] Bot started successfully!
[INFO] Bot username: @YourBotUsername
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ููุฅูุชุงุฌ (PM2)

```bash
cd /workspace
bash start-bot-pm2.sh
```

**ุฃู ูุจุงุดุฑุฉ:**
```bash
pnpm pm2 start ecosystem.config.cjs
```

---

## โ ุงูุฎุทูุฉ 5: ุงูุชุญูู ูู ุนูู ุงูุจูุช

### 1๏ธโฃ **ุงูุชุญ Telegram**

### 2๏ธโฃ **ุงุจุญุซ ุนู ุงูุจูุช**
```
@YourBotUsername
```

### 3๏ธโฃ **ุฃุฑุณู `/start`**

### 4๏ธโฃ **ูุฌุจ ุฃู ุชุฑู**:
```
ูุฑุญุจุงู! ๐
ุฃููุงู ุจู ูู ุจูุช ุงูููุงูุขุช

๐ฐ ุฑุตูุฏู: 2000 ููุทุฉ
๐ ููุงูุฃุฉ ุงูุชุณุฌูู ุชูุช ุฅุถุงูุชูุง

ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุฃุฏูุงู:
```

---

## ๐ ุงูุฎุทูุฉ 6: ูุฑุงูุจุฉ ุงูุณุฌูุงุช

### ููุชุทููุฑ (pnpm dev:bot):
ุงูุณุฌูุงุช ุชุธูุฑ ูู Terminal ูุจุงุดุฑุฉ

### ููุฅูุชุงุฌ (PM2):
```bash
# ุนุฑุถ ุงูุณุฌูุงุช ุงููุจุงุดุฑุฉ
pnpm pm2 logs telegram-bot

# ุนุฑุถ ุขุฎุฑ 50 ุณุทุฑ
pnpm pm2 logs telegram-bot --lines 50

# ุนุฑุถ ุงูุญุงูุฉ
pnpm pm2 list
```

---

## ๐๏ธ ุงูุฃูุงูุฑ ุงููููุฏุฉ

### ุฃูุงูุฑ PM2:

```bash
# ุนุฑุถ ุญุงูุฉ ุงูุจูุช
pnpm pm2 list

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช
pnpm pm2 restart telegram-bot

# ุฅููุงู ุงูุจูุช
pnpm pm2 stop telegram-bot

# ุญุฐู ุงูุจูุช ูู PM2
pnpm pm2 delete telegram-bot

# ุนุฑุถ ูุนูููุงุช ุชูุตูููุฉ
pnpm pm2 show telegram-bot
```

### ุฃูุงูุฑ ุงูุชุทููุฑ:

```bash
# ุชุดุบูู ุงูุจูุช ููุท
pnpm dev:bot

# ุชุดุบูู Web + Bot ูุนุงู
pnpm dev:all

# ุจูุงุก ุงูุจูุช
pnpm build:bot
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุฎุทุฃ: "Missing required environment variable: TELEGRAM_BOT_TOKEN"

**ุงููุดููุฉ:** ููู .env ุบูุฑ ููุฌูุฏ ุฃู ุงูู Token ูุงุฑุบ

**ุงูุญู:**
```bash
# ุชุญูู ูู ูุฌูุฏ .env
ls -la .env

# ุชุญูู ูู ูุญุชูู .env
cat .env | grep TELEGRAM_BOT_TOKEN

# ูุฌุจ ุฃู ุชููู ุงููููุฉ Token ุญูููู ูููุณ "your_bot_token_here"
```

---

### ุฎุทุฃ: "401 Unauthorized"

**ุงููุดููุฉ:** ุงูู Token ุฎุงุทุฆ ุฃู ุบูุฑ ุตุงูุญ

**ุงูุญู:**
1. ุชุญูู ูู ุงูู Token ูู @BotFather
2. ุชุฃูุฏ ุฃูู ูุณุฎุช Token ูุงูู
3. ุชุฃูุฏ ุฃู ูุง ุชูุฌุฏ ูุณุงูุงุช ุฒุงุฆุฏุฉ

```bash
# ุชุญูู ูู Token ูู .env
cat .env | grep TELEGRAM_BOT_TOKEN

# ูุฌุจ ุฃู ูููู ุจูุฐุง ุงูุดูู:
TELEGRAM_BOT_TOKEN="1234567890:AAE_..."
```

---

### ุฎุทุฃ: "Redis connection failed"

**ุงููุดููุฉ:** Redis ุบูุฑ ูุซุจุช ุฃู ูุง ูุนูู

**ุงูุญู 1: ุชุซุจูุช Redis ูุญููุงู**
```bash
# Ubuntu/Debian
sudo apt-get install redis-server
sudo systemctl start redis
redis-cli ping  # ูุฌุจ ุฃู ูุฑุฌุน PONG

# macOS
brew install redis
brew services start redis
```

**ุงูุญู 2: ุชุนุทูู Redis ูุคูุชุงู**
ุงูุชุญ `bot/services/index.ts` ูุนููู ุนูู ููุฏ Redis

---

### ุฎุทุฃ: "Cannot find module '@prisma/client'"

**ุงููุดููุฉ:** Prisma Client ูู ูุชู ุชูููุฏู

**ุงูุญู:**
```bash
pnpm prisma:generate
```

---

### ุฎุทุฃ: "Port already in use"

**ุงููุดููุฉ:** ุงูุจูุช ูุนูู ุจุงููุนู

**ุงูุญู:**
```bash
# ุฃููู ุฌููุน ุงูุจูุชุงุช ุงููุฏููุฉ
pkill -9 -f "bot/index"
pnpm pm2 stop telegram-bot
pnpm pm2 delete telegram-bot

# ุซู ุดุบู ูู ุฌุฏูุฏ
pnpm dev:bot
```

---

## ๐ ูุญุต ุตุญุฉ ุงูุจูุช

### ูุงุฆูุฉ ุงูุชุญูู:

```bash
โ 1. ููู .env ููุฌูุฏ
   $ ls -la .env
   
โ 2. TELEGRAM_BOT_TOKEN ูููู
   $ cat .env | grep TELEGRAM_BOT_TOKEN
   
โ 3. Database ูุชุตู
   $ pnpm prisma db pull
   
โ 4. Prisma Client ูููุฏ
   $ ls node_modules/@prisma/client
   
โ 5. ุงูุจูุช ูุนูู
   $ ps aux | grep "bot/index"
   
โ 6. ุงูุจูุช ูุณุชุฌูุจ ูู Telegram
   ุงูุชุญ ุงูุจูุช ูุฃุฑุณู /start
```

---

## ๐ฏ ุงุฎุชุจุงุฑ ุงูุจูุช

### ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ:

```
/start       - ุจุฏุก ุงูุจูุช
/menu        - ุนุฑุถ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
/tasks       - ุนุฑุถ ุงูููุงู
/referrals   - ุฑุงุจุท ุงูุฅุญุงูุฉ
/stats       - ุฅุญุตุงุฆูุงุชู
/help        - ุงููุณุงุนุฏุฉ
```

### ุงูุฃุฒุฑุงุฑ:

- ๐ ุงูููุงู - ุนุฑุถ ุงูููุงู ุงููุชุงุญุฉ
- ๐ฐ ุงูุณุจ - ุทุฑู ุงูุฑุจุญ
- ๐ฅ ุงูุฅุญุงูุงุช - ุฏุนูุฉ ุงูุฃุตุฏูุงุก
- ๐ฎ ุงูุฃูุนุงุจ - ุฃูุนุงุจ ูุตุบุฑุฉ
- ๐ ุงูุจุทุงูุงุช - ูุฌููุนุฉ ุงูุจุทุงูุงุช
- ๐ ุฅุญุตุงุฆูุงุชู - ุฑุตูุฏู ููุณุชูุงู
- ๐ณ ุงูุณุญุจ - ุณุญุจ ุงูุฃุฑุจุงุญ
- โ๏ธ ุงูุฅุนุฏุงุฏุงุช - ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ

---

## ๐ ููุงุญุธุงุช ูููุฉ

### ููุชุทููุฑ ุงููุญูู:

โ ุงุณุชุฎุฏู `pnpm dev:bot`  
โ ุงูุณุฌูุงุช ุชุธูุฑ ูุจุงุดุฑุฉ  
โ ูุชููู ุนูุฏ ุฅุบูุงู Terminal  
โ ูููุฏ ููุงุฎุชุจุงุฑ ุงูุณุฑูุน  

### ููุฅูุชุงุฌ (VPS/Server):

โ ุงุณุชุฎุฏู PM2: `bash start-bot-pm2.sh`  
โ ูุนูู ูู ุงูุฎูููุฉ  
โ ุฅุนุงุฏุฉ ุชุดุบูู ุชููุงุฆูุฉ ุนูุฏ ุงูุฃุนุทุงู  
โ ุงูุณุฌูุงุช ูุญููุธุฉ ูู `logs/`  

---

## ๐ ุงูุฃูุงู

### โ๏ธ ูุง ุชุดุงุฑู:

โ `TELEGRAM_BOT_TOKEN`  
โ `DATABASE_URL`  
โ `JWT_SECRET`  
โ ููู `.env`  

### โ ุงูุฅุฌุฑุงุกุงุช ุงูุฃูููุฉ:

โ ุงุญุชูุธ ุจู `.env` ูุญููุงู ููุท  
โ ุงุณุชุฎุฏู `.gitignore` ูุงุณุชุจุนุงุฏ `.env`  
โ ุบููุฑ Secrets ุนูุฏ ุงูุชุณุฑูุจ  
โ ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุจูุฆุฉ ูู Production  

---

## ๐ ุงูุจูุช ูุนูู ุงูุขู!

ุฅุฐุง ุงุชุจุนุช ุฌููุน ุงูุฎุทูุงุช:

โ ุงูุจูุช ูุนูู  
โ ูุณุชุฌูุจ ููุฃูุงูุฑ  
โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ  
โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู  

---

## ๐ ุงููุณุงุนุฏุฉ

### ุงูุชูุซูู:
- `BOT_DIAGNOSIS_REPORT_AR.md` - ุชุดุฎูุต ุงููุดุงูู
- `TELEGRAM_BOT_SETUP.md` - ุงูุฅุนุฏุงุฏ ุงูุชูุตููู
- `README_AR.md` - ูุธุฑุฉ ุนุงูุฉ

### ุงูุฏุนู:
- ุฑุงุฌุน ุณุฌูุงุช ุงูุจูุช: `pnpm pm2 logs telegram-bot`
- ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: `pnpm prisma studio`
- ุงูุฑุฃ ุชูุฑูุฑ ุงูุชุดุฎูุต

---

## โ ุฎูุงุตุฉ ุงูุฎุทูุงุช

```bash
# 1. ุงูุญุตูู ุนูู Token ูู @BotFather
# 2. ุชุนุฏูู .env ููุถุน Token
nano .env

# 3. ุชูููุฏ Prisma Client
pnpm prisma:generate

# 4. ุชุดุบูู ุงูุจูุช
pnpm dev:bot

# 5. ุงุฎุชุจุงุฑ ุงูุจูุช ูู Telegram
# ุฃุฑุณู /start ููุจูุช
```

---

**๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ:**  
ุงูุจูุช ูุนูู ููุณุชุฌูุจ ูู Telegram! โ

**โฑ๏ธ ุงูููุช ุงููุชููุน:** 5-10 ุฏูุงุฆู  
**๐ง ุงูุตุนูุจุฉ:** ุณููุฉ  

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 8 ููููุจุฑ 2025  
**ุขุฎุฑ ุชุญุฏูุซ:** 8 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0
